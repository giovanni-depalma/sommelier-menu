<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta dei Vini - Restaurante Fusión</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <header class="page-header">
        <h1>Carta dei Vini</h1>
        <a href="index.html" class="back-link">← Torna alla Home</a>
    </header>

    <div class="content-container" id="wines-container">
        <!-- Wines will be rendered here -->
    </div>

    <script type="module">
        import wines from './data/wines.js';

        const container = document.getElementById('wines-container');

        // Group wines by type
        const categories = {
            'Bollicine': [],
            'Bianchi': [],
            'Rosati': [],
            'Rossi': [],
            'Passiti/Distillati': []
        };

        wines.forEach(wine => {
            if (categories[wine.type]) {
                categories[wine.type].push(wine);
            }
        });

        // Render each category
        for (const [type, wineList] of Object.entries(categories)) {
            if (wineList.length === 0) continue;

            const section = document.createElement('section');
            section.className = 'category-section';

            const title = document.createElement('h2');
            title.className = 'category-title';
            title.textContent = type;
            section.appendChild(title);

            // Sub-group by country/region could be nice, but let's list them all for now
            // Maybe sort by price? Or keep the order in the file (which is grouped by region roughly)

            wineList.forEach(wine => {
                const card = document.createElement('div');
                card.className = 'item-card wine-item-card'; // Added specific class if needed

                card.innerHTML = `
                    <div class="item-info">
                        <div class="item-header">
                            <h3 class="item-name">${wine.name}</h3>
                            <span class="item-price">€ ${wine.price}</span>
                        </div>
                        <div class="wine-item">
                            <div class="wine-details">
                                <span class="wine-producer">${wine.producer}</span>
                                <span class="wine-region">${wine.region}, ${wine.country}</span>
                                <span class="wine-vintage">${wine.vintage}</span>
                            </div>
                        </div>
                        <p class="item-desc">${wine.description}</p>
                        <p class="item-meta">${wine.grape}</p>
                    </div>
                `;
                section.appendChild(card);
            });

            container.appendChild(section);
        }
    </script>
</body>

</html>